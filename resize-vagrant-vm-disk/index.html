<!DOCTYPE html>
<html class="has-navbar-fixed-top">
<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
<title>resize vagrant vm disk - hxf0801&#39;s blog</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.css">


<link href="/zh-cn/resize-vagrant-vm-disk/" rel="alternate" hreflang="zh-CN">
    




<meta name="keywords" content="Blog">







<link rel="icon" href="/favicon.png">


<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ovo|Source+Code+Pro">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bulma/0.6.2/css/bulma.min.css">


<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/lightgallery/1.6.8/css/lightgallery.min.css">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/justifiedGallery/3.6.5/css/justifiedGallery.min.css">


<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css">

<link rel="stylesheet" href="/css/style.css">

<script defer src="//use.fontawesome.com/releases/v5.0.8/js/all.js"></script>


    
    
    
    
    
    
    
    
    
    

    


</head>
<body>
    
<nav class="navbar is-transparent is-fixed-top navbar-main" role="navigation" aria-label="main navigation">
    <div class="container">
        <div class="navbar-brand">
            <a class="navbar-item navbar-logo" href="/">
                
                    
                    LifeStyle
                    
                
            </a>
            <div class="navbar-burger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
        
        <div class="navbar-menu navbar-start">
            
            <a class="navbar-item " href="/archives">Archives</a>
            
            <a class="navbar-item " href="/categories">Categories</a>
            
            <a class="navbar-item " href="/tags">Tags</a>
            
            <a class="navbar-item " href="/about">About</a>
            
        </div>
        
        <div class="navbar-menu navbar-end">
            
            <a class="navbar-item search" title="Search" href="javascript:;">
                <i class="fas fa-search"></i>
            </a>
            
            
            
            <a class="navbar-item" title="GitHub" href="https://github.com/hxf0801">
                
                <i class="fab fa-github"></i>
                
            </a>
               
            
        </div>
    </div>
</nav>

    <section class="section">
    <div class="container">
    <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            resize vagrant vm disk
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2020-04-19T23:45:51.000Z" itemprop="datePublished">Apr 19 2020</time>
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/categories/blog/">blog</a><span>></span><a class="article-category-link" href="/categories/blog/vm/">vm</a>
        </span>
        
        
        <span class="column is-narrow">
            
            
            19 minutes read (About 2809 words)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <p>How to increase the size of the disk for existing VirtualBox machine? Use vagrant to create and manage an VirtualBox vm hosting Oracle 12.2.0.1. Please refer to Oracle vagrant box project for more detail. But the original box has two limited disks of size 40G and 16G respectively and mounted one. Even after we increase the size of hard disk in VirtualBox manager, we still can’t see the increased space when log in vm. So we need to create partition on the added space and allocate to logical volume, shown as below.</p>
<a id="more"></a>
<ol>
<li><p>install vagrant plugin <strong>vagrant-disksize</strong></p>
</li>
<li><p>add new disk size to 100G configuration to <a href="./resize-vagrant-vm-disk/Vagrantfile">Vagrantfile</a>. Note the position</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">config.vm.box = &quot;ol7-latest&quot;</span><br><span class="line">config.disksize.size = &quot;100GB&quot;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
</li>
<li><p>run <code>vagrant up</code> to create vm<br><code>vagrant ssh</code> to vm, to create new partition with the new space. otherwise we can’t see the new-added space, and only see the box’s original disk size 40G</p>
<figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">PS D:\ws-oracle\12.2.0.1&gt; vagrant ssh</span><br><span class="line">getting Proxy Configuration from Host...</span><br><span class="line"></span><br><span class="line">Welcome to Oracle Linux Server release 7.8 (GNU/Linux 4.14.35-1902.300.11.el7uek.x86_64)</span><br><span class="line"></span><br><span class="line">The Oracle Linux End-User License Agreement can be viewed here:</span><br><span class="line"></span><br><span class="line">  * /usr/share/eula/eula.en_US</span><br><span class="line"></span><br><span class="line">For additional packages, updates, documentation and community help, see:</span><br><span class="line"></span><br><span class="line">  * https://yum.oracle.com/</span><br><span class="line">[vagrant@oracle-12201-vagrant ~]$</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>Switch to root user without entering root password.<br><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[vagrant@oracle-12201-vagrant ~]$ sudo su -</span><br><span class="line">[root@oracle-12201-vagrant ~]#</span><br><span class="line"></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"><span class="hljs-comment"># check current file systems or mounted partitions</span></span></span><br><span class="line">[root@oracle-12201-vagrant ~]# df -H</span><br><span class="line">Filesystem                   Size  Used Avail Use% Mounted on</span><br><span class="line">devtmpfs                     2.0G     0  2.0G   0% /dev</span><br><span class="line">tmpfs                        2.0G     0  2.0G   0% /dev/shm</span><br><span class="line">tmpfs                        2.0G  8.9M  2.0G   1% /run</span><br><span class="line">tmpfs                        2.0G     0  2.0G   0% /sys/fs/cgroup</span><br><span class="line">/dev/mapper/vg_main-lv_root   35G   16G   20G  45% /</span><br><span class="line">/dev/sda1                    521M  127M  395M  25% /boot</span><br><span class="line">vagrant                      1.1T  340G  661G  34% /vagrant</span><br><span class="line">tmpfs                        386M     0  386M   0% /run/user/1000</span><br></pre></td></tr></table></figure></p>
<p>Check all disks information. found two disks, and first disk /dev/sda has two partitions and has additional space unused. second disk /dev/sdb has no partition and are not used. we will create partition against unused disk spaces.<br><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">[root@oracle-12201-vagrant ~]# fdisk -l</span><br><span class="line"></span><br><span class="line">Disk /dev/sda: 107.4 GB, 107374182400 bytes, 209715200 sectors</span><br><span class="line">Units = sectors of 1 * 512 = 512 bytes</span><br><span class="line">Sector size (logical/physical): 512 bytes / 512 bytes</span><br><span class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br><span class="line">Disk label type: dos</span><br><span class="line">Disk identifier: 0x00087a38</span><br><span class="line"></span><br><span class="line">   Device Boot      Start         End      Blocks   Id  System</span><br><span class="line">/dev/sda1   *        2048     1026047      512000   83  Linux</span><br><span class="line">/dev/sda2         1026048    77594623    38284288   8e  Linux LVM</span><br><span class="line"></span><br><span class="line">Disk /dev/sdb: 17.2 GB, 17179869184 bytes, 33554432 sectors</span><br><span class="line">Units = sectors of 1 * 512 = 512 bytes</span><br><span class="line">Sector size (logical/physical): 512 bytes / 512 bytes</span><br><span class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Disk /dev/mapper/vg_main-lv_root: 34.9 GB, 34904997888 bytes, 68173824 sectors</span><br><span class="line">Units = sectors of 1 * 512 = 512 bytes</span><br><span class="line">Sector size (logical/physical): 512 bytes / 512 bytes</span><br><span class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Disk /dev/mapper/vg_main-lv_swap: 4294 MB, 4294967296 bytes, 8388608 sectors</span><br><span class="line">Units = sectors of 1 * 512 = 512 bytes</span><br><span class="line">Sector size (logical/physical): 512 bytes / 512 bytes</span><br><span class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br><span class="line"></span><br><span class="line">[root@oracle-12201-vagrant ~]#</span><br></pre></td></tr></table></figure></p>
<p>Create partition on unused space on first disk <em>/dev/sda</em>.</p>
<figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">[root@oracle-12201-vagrant ~]# fdisk /dev/sda</span><br><span class="line">Welcome to fdisk (util-linux 2.23.2).</span><br><span class="line"></span><br><span class="line">Changes will remain in memory only, until you decide to write them.</span><br><span class="line">Be careful before using the write command.</span><br><span class="line"></span><br><span class="line">Command (m for help): m</span><br><span class="line">Command action</span><br><span class="line">   a   toggle a bootable flag</span><br><span class="line">   b   edit bsd disklabel</span><br><span class="line">   c   toggle the dos compatibility flag</span><br><span class="line">   d   delete a partition</span><br><span class="line">   g   create a new empty GPT partition table</span><br><span class="line">   G   create an IRIX (SGI) partition table</span><br><span class="line">   l   list known partition types</span><br><span class="line">   m   print this menu</span><br><span class="line">   n   add a new partition</span><br><span class="line">   o   create a new empty DOS partition table</span><br><span class="line">   p   print the partition table</span><br><span class="line">   q   quit without saving changes</span><br><span class="line">   s   create a new empty Sun disklabel</span><br><span class="line">   t   change a partition's system id</span><br><span class="line">   u   change display/entry units</span><br><span class="line">   v   verify the partition table</span><br><span class="line">   w   write table to disk and exit</span><br><span class="line">   x   extra functionality (experts only)</span><br><span class="line">Command (m for help): p</span><br><span class="line"></span><br><span class="line">Disk /dev/sda: 107.4 GB, 107374182400 bytes, 209715200 sectors</span><br><span class="line">Units = sectors of 1 * 512 = 512 bytes</span><br><span class="line">Sector size (logical/physical): 512 bytes / 512 bytes</span><br><span class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br><span class="line">Disk label type: dos</span><br><span class="line">Disk identifier: 0x00087a38</span><br><span class="line"></span><br><span class="line">   Device Boot      Start         End      Blocks   Id  System</span><br><span class="line">/dev/sda1   *        2048     1026047      512000   83  Linux</span><br><span class="line">/dev/sda2         1026048    77594623    38284288   8e  Linux LVM</span><br><span class="line"></span><br><span class="line">Command (m for help): n</span><br><span class="line">Partition type:</span><br><span class="line">   p   primary (2 primary, 0 extended, 2 free)</span><br><span class="line">   e   extended</span><br><span class="line">Select (default p):</span><br><span class="line">Using default response p</span><br><span class="line">Partition number (3,4, default 3):</span><br><span class="line">First sector (77594624-209715199, default 77594624):</span><br><span class="line">Using default value 77594624</span><br><span class="line">Last sector, +sectors or +size&#123;K,M,G&#125; (77594624-209715199, default 209715199):</span><br><span class="line">Using default value 209715199</span><br><span class="line">Partition 3 of type Linux and of size 63 GiB is set</span><br><span class="line"></span><br><span class="line">Command (m for help): w</span><br><span class="line">The partition table has been altered!</span><br><span class="line"></span><br><span class="line">Calling ioctl() to re-read partition table.</span><br><span class="line"></span><br><span class="line">WARNING: Re-reading the partition table failed with error 16: Device or resource busy.</span><br><span class="line">The kernel still uses the old table. The new table will be used at</span><br><span class="line">the next reboot or after you run partprobe(8) or kpartx(8)</span><br><span class="line">Syncing disks.</span><br><span class="line">[root@oracle-12201-vagrant ~]#</span><br></pre></td></tr></table></figure>
<p>Create partition on second disk <em>/dev/sdb</em>.<br><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">[root@oracle-12201-vagrant ~]# fdisk /dev/sdb</span><br><span class="line">Welcome to fdisk (util-linux 2.23.2).</span><br><span class="line"></span><br><span class="line">Changes will remain in memory only, until you decide to write them.</span><br><span class="line">Be careful before using the write command.</span><br><span class="line"></span><br><span class="line">Device does not contain a recognized partition table</span><br><span class="line">Building a new DOS disklabel with disk identifier 0x1d50355b.</span><br><span class="line"></span><br><span class="line">Command (m for help): p</span><br><span class="line"></span><br><span class="line">Disk /dev/sdb: 17.2 GB, 17179869184 bytes, 33554432 sectors</span><br><span class="line">Units = sectors of 1 * 512 = 512 bytes</span><br><span class="line">Sector size (logical/physical): 512 bytes / 512 bytes</span><br><span class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br><span class="line">Disk label type: dos</span><br><span class="line">Disk identifier: 0x1d50355b</span><br><span class="line"></span><br><span class="line">   Device Boot      Start         End      Blocks   Id  System</span><br><span class="line"></span><br><span class="line">Command (m for help): n</span><br><span class="line">Partition type:</span><br><span class="line">   p   primary (0 primary, 0 extended, 4 free)</span><br><span class="line">   e   extended</span><br><span class="line">Select (default p): p</span><br><span class="line">Partition number (1-4, default 1):</span><br><span class="line">First sector (2048-33554431, default 2048):</span><br><span class="line">Using default value 2048</span><br><span class="line">Last sector, +sectors or +size&#123;K,M,G&#125; (2048-33554431, default 33554431):</span><br><span class="line">Using default value 33554431</span><br><span class="line">Partition 1 of type Linux and of size 16 GiB is set</span><br><span class="line"></span><br><span class="line">Command (m for help): w</span><br><span class="line">The partition table has been altered!</span><br><span class="line"></span><br><span class="line">Calling ioctl() to re-read partition table.</span><br><span class="line">Syncing disks.</span><br></pre></td></tr></table></figure></p>
<p>Check disks again. and find newly created partitions being displayed<br><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">[root@oracle-12201-vagrant ~]# fdisk -l</span><br><span class="line"></span><br><span class="line">Disk /dev/sda: 107.4 GB, 107374182400 bytes, 209715200 sectors</span><br><span class="line">Units = sectors of 1 * 512 = 512 bytes</span><br><span class="line">Sector size (logical/physical): 512 bytes / 512 bytes</span><br><span class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br><span class="line">Disk label type: dos</span><br><span class="line">Disk identifier: 0x00087a38</span><br><span class="line"></span><br><span class="line">   Device Boot      Start         End      Blocks   Id  System</span><br><span class="line">/dev/sda1   *        2048     1026047      512000   83  Linux</span><br><span class="line">/dev/sda2         1026048    77594623    38284288   8e  Linux LVM</span><br><span class="line">/dev/sda3        77594624   209715199    66060288   83  Linux</span><br><span class="line"></span><br><span class="line">Disk /dev/sdb: 17.2 GB, 17179869184 bytes, 33554432 sectors</span><br><span class="line">Units = sectors of 1 * 512 = 512 bytes</span><br><span class="line">Sector size (logical/physical): 512 bytes / 512 bytes</span><br><span class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br><span class="line">Disk label type: dos</span><br><span class="line">Disk identifier: 0x1d50355b</span><br><span class="line"></span><br><span class="line">   Device Boot      Start         End      Blocks   Id  System</span><br><span class="line">/dev/sdb1            2048    33554431    16776192   83  Linux</span><br><span class="line"></span><br><span class="line">Disk /dev/mapper/vg_main-lv_root: 34.9 GB, 34904997888 bytes, 68173824 sectors</span><br><span class="line">Units = sectors of 1 * 512 = 512 bytes</span><br><span class="line">Sector size (logical/physical): 512 bytes / 512 bytes</span><br><span class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Disk /dev/mapper/vg_main-lv_swap: 4294 MB, 4294967296 bytes, 8388608 sectors</span><br><span class="line">Units = sectors of 1 * 512 = 512 bytes</span><br><span class="line">Sector size (logical/physical): 512 bytes / 512 bytes</span><br><span class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br></pre></td></tr></table></figure></p>
<ol start="4">
<li><p>exit ssh, run <code>vagrant halt</code> to stop vm</p>
</li>
<li><p>run <code>vagrant up</code> to start vm again. and <code>vagrant ssh</code> to vm. And this time we will create physical volume on new partitions and file systems<br><code>df (disk free)</code>- displays statistics information on free space of file systems</p>
<figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[vagrant@oracle-12201-vagrant ~]$ df -H</span><br><span class="line">Filesystem                   Size  Used Avail Use% Mounted on</span><br><span class="line">devtmpfs                     2.0G     0  2.0G   0% /dev</span><br><span class="line">tmpfs                        2.0G     0  2.0G   0% /dev/shm</span><br><span class="line">tmpfs                        2.0G  8.9M  2.0G   1% /run</span><br><span class="line">tmpfs                        2.0G     0  2.0G   0% /sys/fs/cgroup</span><br><span class="line">/dev/mapper/vg_main-lv_root   35G   14G   22G  40% /</span><br><span class="line">/dev/sda1                    521M  127M  395M  25% /boot</span><br><span class="line">vagrant                      1.1T  340G  661G  34% /vagrant</span><br><span class="line">tmpfs                        386M     0  386M   0% /run/user/1000</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>Switch to root user using current logon user’s password, no need to enter root password<br><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[vagrant@oracle-12201-vagrant ~]$ sudo su -</span><br><span class="line">Last login: Fri Apr 17 23:54:34 -04 2020 on pts/0</span><br></pre></td></tr></table></figure></p>
<p><code>pvs</code> - Display information about physical volumes<br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@oracle-12201-vagrant ~]# pvs</span><br><span class="line">  PV         VG      Fmt  Attr PSize   PFree</span><br><span class="line">  /dev/sda2  vg_main lvm2 a--  &lt;36.51g    0</span><br></pre></td></tr></table></figure></p>
<p>see what are under <em>/dev</em>.<br><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> run <span class="hljs-string">"ll /dev"</span></span></span><br><span class="line">[root@oracle-12201-vagrant ~]# ll /dev | grep disk</span><br><span class="line">drwxr-xr-x. 6 root    root         120 Apr 18 14:25 disk</span><br><span class="line">brw-rw----. 1 root    disk    252,   0 Apr 18 14:26 dm-0</span><br><span class="line">brw-rw----. 1 root    disk    252,   1 Apr 18 14:26 dm-1</span><br><span class="line">crw-rw----. 1 root    disk     10, 237 Apr 18 14:26 loop-control</span><br><span class="line">brw-rw----. 1 root    disk      8,   0 Apr 18 14:26 sda</span><br><span class="line">brw-rw----. 1 root    disk      8,   1 Apr 18 14:26 sda1</span><br><span class="line">brw-rw----. 1 root    disk      8,   2 Apr 18 14:26 sda2</span><br><span class="line">brw-rw----. 1 root    disk      8,   3 Apr 18 14:26 sda3</span><br><span class="line">brw-rw----. 1 root    disk      8,  16 Apr 18 14:26 sdb</span><br><span class="line">brw-rw----. 1 root    disk      8,  17 Apr 18 14:26 sdb1</span><br><span class="line">crw-rw----. 1 root    disk     21,   0 Apr 18 14:26 sg0</span><br><span class="line">crw-rw----. 1 root    disk     21,   1 Apr 18 14:26 sg1</span><br><span class="line">   </span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> run <span class="hljs-string">"ll /dev/vg_main"</span></span></span><br><span class="line">[root@oracle-12201-vagrant ~]# ll /dev/vg_main</span><br><span class="line">total 0</span><br><span class="line">lrwxrwxrwx. 1 root root 7 Apr 18 14:26 lv_root -&gt; ../dm-0</span><br><span class="line">lrwxrwxrwx. 1 root root 7 Apr 18 14:26 lv_swap -&gt; ../dm-1</span><br></pre></td></tr></table></figure></p>
<p><code>pvcreate</code> - Initialize physical volume(s) for use by LVM (logical volume manager)<br><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@oracle-12201-vagrant ~]# pvcreate /dev/sda3</span><br><span class="line">  Physical volume "/dev/sda3" successfully created.</span><br><span class="line"></span><br><span class="line">[root@oracle-12201-vagrant ~]# pvs</span><br><span class="line">  PV         VG      Fmt  Attr PSize   PFree</span><br><span class="line">  /dev/sda2  vg_main lvm2 a--  &lt;36.51g     0</span><br><span class="line">  /dev/sda3          lvm2 ---   63.00g 63.00g</span><br><span class="line"></span><br><span class="line">[root@oracle-12201-vagrant ~]# pvcreate /dev/sdb1</span><br><span class="line">  Physical volume "/dev/sdb1" successfully created.</span><br><span class="line">  </span><br><span class="line">[root@oracle-12201-vagrant ~]# pvs</span><br><span class="line">  PV         VG      Fmt  Attr PSize   PFree</span><br><span class="line">  /dev/sda2  vg_main lvm2 a--  &lt;36.51g      0</span><br><span class="line">  /dev/sda3          lvm2 ---   63.00g  63.00g</span><br><span class="line">  /dev/sdb1          lvm2 ---  &lt;16.00g &lt;16.00g</span><br></pre></td></tr></table></figure></p>
<p><code>vgextend</code> - Add physical volumes to a volume group<br><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">[root@oracle-12201-vagrant ~]# vgextend vg_main /dev/sda3 /dev/sdb1</span><br><span class="line">  Volume group "vg_main" successfully extended</span><br><span class="line">  </span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> check physical volumes again</span></span><br><span class="line">[root@oracle-12201-vagrant ~]# pvs</span><br><span class="line">  PV         VG      Fmt  Attr PSize   PFree</span><br><span class="line">  /dev/sda2  vg_main lvm2 a--  &lt;36.51g      0</span><br><span class="line">  /dev/sda3  vg_main lvm2 a--  &lt;63.00g &lt;63.00g</span><br><span class="line">  /dev/sdb1  vg_main lvm2 a--  &lt;16.00g &lt;16.00g</span><br><span class="line">[root@oracle-12201-vagrant ~]#</span><br><span class="line"></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash">lvdisplay - Display information about a logical volume</span></span><br><span class="line">[root@oracle-12201-vagrant ~]# lvdisplay -a</span><br><span class="line">  --- Logical volume ---</span><br><span class="line">  LV Path                /dev/vg_main/lv_root</span><br><span class="line">  LV Name                lv_root</span><br><span class="line">  VG Name                vg_main</span><br><span class="line">  LV UUID                h15nLk-zD4q-lECL-TvbX-mwFs-3RLZ-vSpOad</span><br><span class="line">  LV Write Access        read/write</span><br><span class="line">  LV Creation host, time localhost, 2020-04-07 23:22:22 -0400</span><br><span class="line">  LV Status              available</span><br><span class="line"><span class="hljs-meta">  #</span><span class="hljs-bash"> open                 1</span></span><br><span class="line">  LV Size                &lt;32.51 GiB</span><br><span class="line">  Current LE             8322</span><br><span class="line">  Segments               1</span><br><span class="line">  Allocation             inherit</span><br><span class="line">  Read ahead sectors     auto</span><br><span class="line">  - currently set to     256</span><br><span class="line">  Block device           252:0</span><br><span class="line"></span><br><span class="line">  --- Logical volume ---</span><br><span class="line">  LV Path                /dev/vg_main/lv_swap</span><br><span class="line">  LV Name                lv_swap</span><br><span class="line">  VG Name                vg_main</span><br><span class="line">  LV UUID                nOqXSr-q4HV-FofL-WeHm-uAfW-36t0-hOM8Zd</span><br><span class="line">  LV Write Access        read/write</span><br><span class="line">  LV Creation host, time localhost, 2020-04-07 23:22:23 -0400</span><br><span class="line">  LV Status              available</span><br><span class="line"><span class="hljs-meta">  #</span><span class="hljs-bash"> open                 2</span></span><br><span class="line">  LV Size                4.00 GiB</span><br><span class="line">  Current LE             1024</span><br><span class="line">  Segments               1</span><br><span class="line">  Allocation             inherit</span><br><span class="line">  Read ahead sectors     auto</span><br><span class="line">  - currently set to     256</span><br><span class="line">  Block device           252:1</span><br></pre></td></tr></table></figure></p>
<p><code>lvextend</code> - Add space to a logical volume. <code>lvextend -h</code> to show command format.     </p>
<blockquote>
<p>Format1: <code>lvextend LV PV ...</code> to extend an LV by specified PV extents. In this case, we append physical volume <em>/dev/sda3</em> to logical volume _/dev/vg_main/lv_root_.<br><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@oracle-12201-vagrant ~]# lvextend -r /dev/vg_main/lv_root /dev/sda3</span><br><span class="line">  Size of logical volume vg_main/lv_root changed from &lt;32.51 GiB (8322 extents) to 95.50 GiB (24449 extents).</span><br><span class="line">  Logical volume vg_main/lv_root successfully resized.</span><br><span class="line">meta-data=/dev/mapper/vg_main-lv_root isize=256    agcount=4, agsize=2130432 blks</span><br><span class="line">         =                       sectsz=512   attr=2, projid32bit=1</span><br><span class="line">         =                       crc=0        finobt=0 spinodes=0 rmapbt=0</span><br><span class="line">         =                       reflink=0</span><br><span class="line">data     =                       bsize=4096   blocks=8521728, imaxpct=25</span><br><span class="line">         =                       sunit=0      swidth=0 blks</span><br><span class="line">naming   =version 2              bsize=4096   ascii-ci=0 ftype=1</span><br><span class="line">log      =internal               bsize=4096   blocks=4161, version=2</span><br><span class="line">         =                       sectsz=512   sunit=0 blks, lazy-count=1</span><br><span class="line">realtime =none                   extsz=4096   blocks=0, rtextents=0</span><br><span class="line">data blocks changed from 8521728 to 25035776</span><br><span class="line">[root@oracle-12201-vagrant ~]#</span><br></pre></td></tr></table></figure></p>
</blockquote>
<blockquote>
<p>Format2: <code>lvextend -L|--size [+]Size[m|UNIT] LV</code> to extend an LV by a specified size. In this case, we append all remaining free spaces, in our case physical volume <em>/dev/sdb1</em>, to logical volume _/dev/vg_main/lv_root_.<br><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@oracle-12201-vagrant ~]# lvextend -r -l +100%FREE /dev/vg_main/lv_root</span><br><span class="line">  Size of logical volume vg_main/lv_root changed from 95.50 GiB (24449 extents) to 111.50 GiB (28544 extents).</span><br><span class="line">  Logical volume vg_main/lv_root successfully resized.</span><br><span class="line">meta-data=/dev/mapper/vg_main-lv_root isize=256    agcount=12, agsize=2130432 blks</span><br><span class="line">         =                       sectsz=512   attr=2, projid32bit=1</span><br><span class="line">         =                       crc=0        finobt=0 spinodes=0 rmapbt=0</span><br><span class="line">         =                       reflink=0</span><br><span class="line">data     =                       bsize=4096   blocks=25035776, imaxpct=25</span><br><span class="line">         =                       sunit=0      swidth=0 blks</span><br><span class="line">naming   =version 2              bsize=4096   ascii-ci=0 ftype=1</span><br><span class="line">log      =internal               bsize=4096   blocks=4161, version=2</span><br><span class="line">         =                       sectsz=512   sunit=0 blks, lazy-count=1</span><br><span class="line">realtime =none                   extsz=4096   blocks=0, rtextents=0</span><br><span class="line">data blocks changed from 25035776 to 29229056</span><br><span class="line">[root@oracle-12201-vagrant ~]#</span><br></pre></td></tr></table></figure></p>
</blockquote>
<p>Check and find the logical volume increased.<br><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@oracle-12201-vagrant ~]# df -H</span><br><span class="line">Filesystem                   Size  Used Avail Use% Mounted on</span><br><span class="line">devtmpfs                     2.0G     0  2.0G   0% /dev</span><br><span class="line">tmpfs                        2.0G     0  2.0G   0% /dev/shm</span><br><span class="line">tmpfs                        2.0G  8.9M  2.0G   1% /run</span><br><span class="line">tmpfs                        2.0G     0  2.0G   0% /sys/fs/cgroup</span><br><span class="line">/dev/mapper/vg_main-lv_root  120G   16G  105G  14% /</span><br><span class="line">/dev/sda1                    521M  127M  395M  25% /boot</span><br><span class="line">vagrant                      1.1T  340G  661G  34% /vagrant</span><br><span class="line">tmpfs                        386M     0  386M   0% /run/user/1000</span><br><span class="line">tmpfs                        386M     0  386M   0% /run/user/0</span><br></pre></td></tr></table></figure></p>
<ol start="6">
<li><p>conclusion: </p>
<ul>
<li>physical hard disk</li>
<li>creating partitions on disk, fdisk command</li>
<li>create physical volume (PV) from partition, pvcreate command</li>
<li>add physical volume (PV) to volume group, vgextend command</li>
<li>allocate free space under volume group to logical volume (LV), lvextend command</li>
</ul>
</li>
<li><p>information query commands:</p>
<ul>
<li>Check all disks information: fdisk -l; parted -l; df -h; lsblk; sfdisk -l -uM</li>
<li>Display disk free space information: df -H</li>
<li>Display information about physical volumes: pvs</li>
<li>Display information about logical volumes: lvdisplay</li>
<li><code>sudo su -l oracle</code>: use current user’’s password to switch to another user <code>oracle</code> but no need to provide password. option <code>-l</code> to reset user environment.</li>
</ul>
</li>
<li><p>some commands to check hard disk partitions and disk space on Linux<br> need root previledge to run them. so first <code>sudo su -</code> to root without prompting to enter root password; or <code>su -</code> to root with prompting to enter root password.</p>
<ul>
<li><p>fdisk<br>Fdisk is the most commonly used command to check the partitions on a disk. The fdisk command can display the partitions and details like file system type. However it does not report the size of each partitions.</p>
<figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">[root@oracle-12201-vagrant ~]# fdisk -l</span><br><span class="line"></span><br><span class="line">Disk /dev/sda: 107.4 GB, 107374182400 bytes, 209715200 sectors</span><br><span class="line">Units = sectors of 1 * 512 = 512 bytes</span><br><span class="line">Sector size (logical/physical): 512 bytes / 512 bytes</span><br><span class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br><span class="line">Disk label type: dos</span><br><span class="line">Disk identifier: 0x00087a38</span><br><span class="line"></span><br><span class="line">   Device Boot      Start         End      Blocks   Id  System</span><br><span class="line">/dev/sda1   *        2048     1026047      512000   83  Linux</span><br><span class="line">/dev/sda2         1026048    77594623    38284288   8e  Linux LVM</span><br><span class="line">/dev/sda3        77594624   209715199    66060288   83  Linux</span><br><span class="line"></span><br><span class="line">Disk /dev/sdb: 17.2 GB, 17179869184 bytes, 33554432 sectors</span><br><span class="line">Units = sectors of 1 * 512 = 512 bytes</span><br><span class="line">Sector size (logical/physical): 512 bytes / 512 bytes</span><br><span class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Disk /dev/mapper/vg_main-lv_root: 34.9 GB, 34904997888 bytes, 68173824 sectors</span><br><span class="line">Units = sectors of 1 * 512 = 512 bytes</span><br><span class="line">Sector size (logical/physical): 512 bytes / 512 bytes</span><br><span class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Disk /dev/mapper/vg_main-lv_swap: 4294 MB, 4294967296 bytes, 8388608 sectors</span><br><span class="line">Units = sectors of 1 * 512 = 512 bytes</span><br><span class="line">Sector size (logical/physical): 512 bytes / 512 bytes</span><br><span class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br><span class="line">[root@oracle-12201-vagrant ~]#</span><br></pre></td></tr></table></figure>
</li>
<li><p>sfdisk<br>Sfdisk is another utility with a purpose similar to fdisk, but with more features. It can display the size of each partition in MB.</p>
<figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">[root@oracle-12201-vagrant ~]# sfdisk -l -uM</span><br><span class="line"></span><br><span class="line">Disk /dev/sda: 13054 cylinders, 255 heads, 63 sectors/track</span><br><span class="line">Units: 1MiB = 1024*1024 bytes, blocks of 1024 bytes, counting from 0</span><br><span class="line"></span><br><span class="line">   Device Boot Start   End    MiB    #blocks   Id  System</span><br><span class="line">/dev/sda1   *     1    500    500     512000   83  Linux</span><br><span class="line">/dev/sda2       501  37887  37387   38284288   8e  Linux LVM</span><br><span class="line">/dev/sda3     37888  102399  64512   66060288   83  Linux</span><br><span class="line">sfdisk:                 start: (c,h,s) expected (1023,254,63) found (734,10,45)</span><br><span class="line"></span><br><span class="line">sfdisk:                 end: (c,h,s) expected (1023,254,63) found (766,42,44)</span><br><span class="line"></span><br><span class="line">/dev/sda4         0      -      0          0    0  Empty</span><br><span class="line"></span><br><span class="line">Disk /dev/sdb: 2088 cylinders, 255 heads, 63 sectors/track</span><br><span class="line"></span><br><span class="line">Disk /dev/mapper/vg_main-lv_root: 4243 cylinders, 255 heads, 63 sectors/track</span><br><span class="line"></span><br><span class="line">Disk /dev/mapper/vg_main-lv_swap: 522 cylinders, 255 heads, 63 sectors/track</span><br><span class="line">[root@oracle-12201-vagrant ~]#</span><br></pre></td></tr></table></figure>
</li>
<li><p>lsblk<br>Lists out all the storage blocks, which includes disk partitions and optical drives. Details include the total size of the partition/block and the mount point if any.<br>Does not report the used/free disk space on the partitions.</p>
</li>
</ul>
</li>
</ol>
<p>If there is no MOUNTPOINT, then it means that the file system is not yet mounted. For cd/dvd this means that there is no disk.<br><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@oracle-12201-vagrant ~]# lsblk</span><br><span class="line">NAME                MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT</span><br><span class="line">sdb                   8:16   0   16G  0 disk</span><br><span class="line">sda                   8:0    0  100G  0 disk</span><br><span class="line">|-sda2                8:2    0 36.5G  0 part</span><br><span class="line">|  |-vg_main-lv_swap 252:1    0    4G  0 lvm  [SWAP]</span><br><span class="line">|  |-vg_main-lv_root 252:0    0 32.5G  0 lvm  /</span><br><span class="line">|-sda1                8:1    0  500M  0 part /boot</span><br></pre></td></tr></table></figure></p>
<ul>
<li>df<br>Df is not a partitioning utility, but prints out details about only mounted file systems. The list generated by df even includes file systems that are not real disk partitions.</li>
</ul>
<p>Note that df shows only the mounted file systems or partitions and not all.<br><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@oracle-12201-vagrant ~]# df -h</span><br><span class="line">Filesystem                   Size  Used Avail Use% Mounted on</span><br><span class="line">devtmpfs                     1.8G     0  1.8G   0% /dev</span><br><span class="line">tmpfs                        1.8G     0  1.8G   0% /dev/shm</span><br><span class="line">tmpfs                        1.8G  8.4M  1.8G   1% /run</span><br><span class="line">tmpfs                        1.8G     0  1.8G   0% /sys/fs/cgroup</span><br><span class="line">/dev/mapper/vg_main-lv_root   33G   15G   18G  45% /</span><br><span class="line">/dev/sda1                    497M  121M  377M  25% /boot</span><br><span class="line">vagrant                      932G  317G  616G  34% /vagrant</span><br><span class="line">tmpfs                        368M     0  368M   0% /run/user/1000</span><br></pre></td></tr></table></figure></p>
<ul>
<li>parted<br>Parted is yet another command line utility to list out partitions and modify them if needed.<figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">[root@oracle-12201-vagrant ~]# parted -l</span><br><span class="line">Model: ATA VBOX HARDDISK (scsi)</span><br><span class="line">Disk /dev/sda: 107GB</span><br><span class="line">Sector size (logical/physical): 512B/512B</span><br><span class="line">Partition Table: msdos</span><br><span class="line">Disk Flags:</span><br><span class="line"></span><br><span class="line">Number  Start   End     Size    Type     File system  Flags</span><br><span class="line"> 1      1049kB  525MB   524MB   primary  xfs          boot</span><br><span class="line"> 2      525MB   39.7GB  39.2GB  primary               lvm</span><br><span class="line"> 3      39.7GB  107GB   67.6GB  primary</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Error: /dev/sdb: unrecognised disk label</span><br><span class="line">Model: ATA VBOX HARDDISK (scsi)</span><br><span class="line">Disk /dev/sdb: 17.2GB</span><br><span class="line">Sector size (logical/physical): 512B/512B</span><br><span class="line">Partition Table: unknown</span><br><span class="line">Disk Flags:</span><br><span class="line"></span><br><span class="line">Model: Linux device-mapper (linear) (dm)</span><br><span class="line">Disk /dev/mapper/vg_main-lv_swap: 4295MB</span><br><span class="line">Sector size (logical/physical): 512B/512B</span><br><span class="line">Partition Table: loop</span><br><span class="line">Disk Flags:</span><br><span class="line"></span><br><span class="line">Number  Start  End     Size    File system     Flags</span><br><span class="line"> 1      0.00B  4295MB  4295MB  linux-swap(v1)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Model: Linux device-mapper (linear) (dm)</span><br><span class="line">Disk /dev/mapper/vg_main-lv_root: 34.9GB</span><br><span class="line">Sector size (logical/physical): 512B/512B</span><br><span class="line">Partition Table: loop</span><br><span class="line">Disk Flags:</span><br><span class="line"></span><br><span class="line">Number  Start  End     Size    File system  Flags</span><br><span class="line"> 1      0.00B  34.9GB  34.9GB  xfs</span><br></pre></td></tr></table></figure></li>
</ul>

    
    </div>
    
    <div class="columns is-variable is-1 is-multiline is-mobile">
    
        <span class="column is-narrow"><a class="tag is-light article-tag" href="/tags/vagrant/">#vagrant</a></span>
    
        <span class="column is-narrow"><a class="tag is-light article-tag" href="/tags/VirtualBox/">#VirtualBox</a></span>
    
        <span class="column is-narrow"><a class="tag is-light article-tag" href="/tags/vm/">#vm</a></span>
    
    </div>
    
    
    <div class="columns is-mobile is-multiline article-nav">
        <span class="column is-12-mobile is-half-desktop  article-nav-prev">
            
            <a href="/vagrant-oracle/">vagrant oracle</a>
            
        </span>
        <span class="column is-12-mobile is-half-desktop  article-nav-next">
            
            <a href="/jbpm-kjar-deployment-descriptor/">jbpm kjar deployment descriptor</a>
            
        </span>
    </div>
    
</article>




    </div>
</section>
    <footer class="footer">
    <div class="container">
        <div class="columns content">
            <div class="column is-narrow has-text-centered">
                &copy; 2020 <a href="http://hxf0801.github.io">hxf0801</a>&nbsp;
                Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> & <a href="http://github.com/ppoffice/hexo-theme-minos">Minos</a>
            </div>
            <div class="column is-hidden-mobile"></div>

            
<div class="column is-narrow has-text-centered">
    <div class="dropdown is-up is-right is-hoverable" style="margin-top: -0.2em;">
        <div class="dropdown-trigger">
            <button class="button is-small" aria-haspopup="true" aria-controls="dropdown-menu7">
                <span class="icon">
                    <i class="fas fa-globe"></i>
                </span>
                <span>English</span>
                <span class="icon is-small">
            <i class="fas fa-angle-down" aria-hidden="true"></i>
          </span>
            </button>
        </div>
        <div class="dropdown-menu has-text-left" role="menu">
            <div class="dropdown-content">
            
                <a href="/resize-vagrant-vm-disk/" class="dropdown-item">
                    English
                </a>
            
                <a href="/zh-cn/resize-vagrant-vm-disk/" class="dropdown-item">
                    简体中文
                </a>
            
            </div>
        </div>
    </div>
</div>

        </div>
    </div>
</footer>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment-with-locales.min.js"></script>

<!-- test if the browser is outdated -->
<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="//cdnjs.cloudflare.com/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.js"></script>
<script>
    $(document).ready(function () {
        // plugin function, place inside DOM ready function
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        })
    });
</script>

<script>
    window.FontAwesomeConfig = {
        searchPseudoElements: true
    }
    moment.locale("en-AU");
</script>


    
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<script>
    MathJax.Hub.Config({
        "HTML-CSS": {matchFontHeight: false},
        SVG: {matchFontHeight: false},
        CommonHTML: {matchFontHeight: false}
    });
</script>

    
    
    
    
<script src="//cdnjs.cloudflare.com/ajax/libs/lightgallery/1.6.8/js/lightgallery-all.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/justifiedGallery/3.6.5/js/jquery.justifiedGallery.min.js"></script>
<script>
    (function ($) {
        $(document).ready(function () {
            if (typeof($.fn.lightGallery) === 'function') {
                $('.article.gallery').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof($.fn.justifiedGallery) === 'function') {
                $('.justified-gallery').justifiedGallery();
            }
        });
    })(jQuery);
</script>

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
    <style>
        .hljs {
            position: relative;
        }

        .hljs .clipboard-btn {
            float: right;
            color: #9a9a9a;
            background: none;
            border: none;
        }

        .hljs > .clipboard-btn {
            display: none;
            position: absolute;
            right: 4px;
            top: 4px;
        }

        .hljs:hover > .clipboard-btn {
            display: inline;
        }

        .hljs > figcaption > .clipboard-btn {
            margin-right: 4px;
        }
    </style>
    <script>
      $(document).ready(function () {
        $('figure.hljs').each(function(i, figure) {
          var codeId = 'code-' + i;
          var code = figure.querySelector('.code');
          var copyButton = $('<button>Copy <i class="far fa-clipboard"></i></button>');
          code.id = codeId;
          copyButton.addClass('clipboard-btn');
          copyButton.attr('data-clipboard-target-id', codeId);

          var figcaption = figure.querySelector('figcaption');

          if (figcaption) {
            figcaption.append(copyButton[0]);
          } else {
            figure.prepend(copyButton[0]);
          }
        })

        var clipboard = new ClipboardJS('.clipboard-btn', {
          target: function(trigger) {
            return document.getElementById(trigger.getAttribute('data-clipboard-target-id'));
          }
        });
      })
    </script>

    
    

    


<script src="/js/script.js"></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-mask"></div>
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="Type something...">
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: 'Posts',
                PAGES: 'Pages',
                CATEGORIES: 'Categories',
                TAGS: 'Tags',
                UNTITLED: '(Untitled)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js"></script>
    
</body>
</html>